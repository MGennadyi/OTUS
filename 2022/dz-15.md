# Greenplum
###### Оф.требования ubuntu-18, 20 нет.
```
vim /etc/hosts
10.128.0.51 gp1.ru-central1.internal gp1
10.128.0.52 gp2.ru-central1.internal gp2
10.128.0.53 gp3.ru-central1.internal gp3
10.128.0.54 gp4.ru-central1.internal gp4
```
```
sudo apt update && sudo apt upgrade -y -q
```
```
sudo groupadd gpadmin
sudo useradd gpadmin -r -m -g gpadmin
echo gpadmin:gpadmin123 | sudo chpasswd
```
```
# создаем ssh ключ:
sudo -u gpadmin ssh-keygen -t rsa -b 4096 -q -f /home/gpadmin/.ssh/id_rsa -N ''
sudo usermod -aG sudo gpadmin
```
```
vim greenplum.sh
```
```
#! /bin/bash

# Check we are a root
if [ "$EUID" -ne 0 ]
    then echo "Please run this script as root"
    exit
fi

REPO="/etc/apt/sources.list.d/greenplum-ubuntu-db-bionic.list"
PIN="/etc/apt/preferences.d/99-greenplum"

echo "Add required repositories"
touch \$REPO
cat > \$REPO <<REPOS
deb http://ppa.launchpad.net/greenplum/db/ubuntu bionic main
deb http://ru.archive.ubuntu.com/ubuntu bionic main
REPOS

echo "Configure repositories"
touch \$PIN
cat > \$PIN <<PIN_REPO
Package: *
Pin: release v=18.04
Pin-Priority: 1
PIN_REPO

echo "Repositories described in \$REPO"
echo "Repositories configuration in \$PIN"
echo "Installing greenplum"

sudo apt update && sudo apt install greenplum-db-6 -y



```
```
# добавим ключики
gpg --keyserver keyserver.ubuntu.com --recv 3C6FDC0C01D86213
gpg --export --armor 3C6FDC0C01D86213 | sudo apt-key add -
sudo ./greenplum.sh

```




